# Методология сборки

На текущем этапе развития веб-технологий большинство сайтов реализованы как сложные многоуровневые структуры данных. Задача разработчиков - сделать работу с кодом сайта максимально эффективной, избегая громоздких конструкций.

Сайт логично разбивать на множество маленьких взаимосвязанных блоков, с которыми удобно работать. Существуют методологии создания веб-проектов, предлагающие альтернативные предметные области и готовые решения для структурирования проектов. К ним относится и [БЭМ](http://ru.bem.info).

Дробление сайта на сущности и использование абстракций значительно повышают скорость разработки проекта. Однако, удобство файловой организации и легкочитаемость кода приводят к тому, что файлы обрабатываются браузером медленнее обычного. При масштабности современных сайтов нагрузка на сервер становится неоправданно высокой.

Руководствуясь принципом "разделяй и властвуй", оптимальнее всего отделить процесс разработки страниц от их обработки браузером. При этом появляется понятие **сборки сайта** - согласования взаимосвязей между сущностями и библиотеками сайта, а также приведения его кода к наиболее компактному виду.

![Код для людей в код для роботов](https://img-fotki.yandex.ru/get/16165/158800653.0/0_111c55_72635305_orig)

В ходе сборки на основе исходных файлов создаются новые, оптимизированные для передачи роботу. Обычно сборка представляет собой завершающий этап разработки проекта и производится автоматически. Автоматизировать процесс помогают **инструменты сборки**. Некоторые сборщики позволяют собирать проекты параллельно с написанием кода, запуская режим сервера и делая промежуточный результат доступным в браузере.

## Стандартный процесс сборки

Рассмотрим подробнее, как обычно проходит процесс сборки.

Допустим, разработчики договорились о предметной области своего проекта. Они легко ориентируются в файловой структуре сайта, быстро находят и правят нужные блоки.

Решено проверить, как сайт будет выглядеть в браузере. Для этого выбирают определенный инструмент сборки и пишут для него **декларацию**:

* какие блоки сайта собирать;
* какие библиотеки подключать;
* как сущности зависят друг от друга, и т.д.

После этого, с помощью стандартной команды сборщика запускают сам процесс сборки. На основании декларации, а также собственных алгоритмов, сборщик:

* оптимизирует код (например, раскрывает `include` в CSS);
* задействует нужные шаблоны;
* подключает сущности из библиотек согласно зависимостям;
* объединяет раздробленные маленькие файлы в цельные, по предназначению;
* удаляет служебные знаки (например, отступы и пробелы) и т.д.

В итоге генерируется набор файлов, с которым совершенно неудобно работать человеку, но который займёт наименьшее место на сервере и будет обработан браузером максимально быстро.

Для своего проекта вы можете написать уникальный инструмент сборки или использовать один из уже существующих:

* [Gulp](http://gulpjs.com/)
* [Grunt](http://gruntjs.com/)
* [Brunch](http://brunch.io/)
* [Broccoli](https://www.npmjs.org/package/broccoli)
* [ENB](http://enb-make.info/)

Процесс сборки для платформы `БЭМ` имеет свои [особенности](sborka_platform.md), однако в общих чертах совпадает с описанным выше.
